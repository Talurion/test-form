<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-store, no-cache, must-revalidate, max-age=0">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>Форма заявки на внесение изменений в GTM</title>
    <meta name="robots" content="noindex, nofollow">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="favicon.png" type="image/png">
</head>
<body>
    <div class="container">
        <h1>Форма заявки на внесение изменений в GTM</h1>

        <!-- Выпадающий список -->
        <label for="action">Что Вы хотите сделать?</label>
        <select id="action" required>
            <option value="" selected disabled>Выберите действие</option>
            <option value="add">Добавить новый тег</option>
            <option value="update">Обновить срок жизни тега</option>
            <!-- <option value="delete">Удалить тег</option> -->
            <option value="deploy">Заявка на выкладку изменений в GTM</option>
        </select>

        <!-- Формы -->
        <form id="addForm" class="form" style="display:none;">
            <input type="text" name="fullName" placeholder="ФИО" required>
            <input type="text" name="division" placeholder="Отдел (как в адресной книге)" required>
            <input type="email" name="email" placeholder="email @t2.ru" required autocomplete="off">
            <input type="text" name="agency" placeholder="Агентство (не обязательно)" autocomplete="off">
            <input type="text" name="bpmId" placeholder="Номер заявки bpm (только для рекламных тегов)" autocomplete="off">
            <input type="text" name="siteUrl" placeholder="Адрес сайта" autocomplete="off" required>
            <select name="stream" required>
                <option value="" selected disabled>Выберите стрим</option>
                <option value="site">site</option>
                <option value="shop">shop</option>
                <option value="shpd">shpd</option>
                <option value="flight">flight</option>
                <option value="b2b">b2b</option>
                <option value="mixx">mixx</option>
                <option value="skylink">skylink</option>
                <option value="content">content</option>
                <option value="info">info</option>
                <option value="loyalty">loyalty</option>
                <option value="personalization">personalization</option>
            </select>
            <select name="tagCategory" required>
                <option value="" selected disabled>Категория тега</option>
                <option value="ads">рекламный</option>
                <option value="analytics">аналитический</option>
                <option value="layout">изменение разметки</option>
                <option value="connector">коннектор</option>
            </select>
            <select name="lifetime" required>
                <option value="" selected disabled>Выберите срок жизни тега</option>
                <option value="1">1 месяц</option>
                <option value="2">2 месяца</option>
                <option value="3">3 месяца</option>
                <option value="6">6 месяцев</option>
            </select>
            <textarea name="businessTask" rows="5" cols="30" placeholder="Бизнес смысл" required autocomplete="off" maxlength="180"></textarea>
            <button type="submit" class="button">Отправить</button>
        </form>
        
        <form id="updateForm" class="form" style="display:none;">
            <input type="text" name="tagId" placeholder="ID тега" required autocomplete="off">
            <select name="lifetimeUpdate" required>
                <option value="" selected disabled>Выберите срок жизни тега</option>
                <option value="1">1 месяц</option>
                <option value="2">2 месяца</option>
                <option value="3">3 месяца</option>
                <option value="6">6 месяцев</option>
            </select>
            <button type="submit" class="button">Отправить</button>
        </form>
        
        <form id="deployForm" class="form" style="display:none;">
            <input type="text" name="containerId" placeholder="Container ID" value="GTM-W9D3BC" required>
            <input type="text" name="workspace" placeholder="Рабочая область" required autocomplete="off">
            <input type="text" name="versionName" placeholder="Название версии" required autocomplete="off">
            <textarea name="description" rows="5" cols="30" placeholder="Описание" required autocomplete="off"></textarea>
            <button type="submit" class="button">Отправить</button>
        </form>
        
    </div>

    <!-- popup -->
    <div class="popup-overlay" id="popup">
        <div class="popup">
            <h2 class="popupMessage">Сообщение</h2>
            <p class="popupDetailedMessage">Ваш запрос был успешно отправлен!</p>
            <div class="identifier-block" id="identifierBlock" style="display: none;">
                <span class="identifierText">Идентификатор</span>
                <button class="copyButton">Копировать</button>
            </div>
            <button class="close-btn">Закрыть</button>
        </div>
    </div>

    <script type="module" src="js/main.js"></script>
</body>
</html>
